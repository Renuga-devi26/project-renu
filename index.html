<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RuralCare AI - Natural Remedies & Gel-Based Solutions</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Segoe UI,Arial;background:#f5f5f6;padding:20px;color:#263238}
.container{max-width:1400px;margin:auto}
.section{background:#fff;padding:25px;border-radius:14px;margin-bottom:25px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
h2{color:#1b5e20;margin-bottom:15px;border-bottom:2px solid #e8f5e9;padding-bottom:10px}
h3{color:#2e7d32;margin:15px 0 10px}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px}
.symptom-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin:15px 0}
input,select,textarea{padding:12px;border:1px solid #ccc;border-radius:8px;width:100%;font-size:14px}
textarea{min-height:80px;resize:vertical}
button{padding:12px 25px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:15px;transition:all 0.3s}
button:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.2)}
.btn-primary{background:#1b5e20;color:#fff}
.btn-secondary{background:#eee;color:#333}
.btn-danger{background:#c62828;color:#fff}
.btn-group{display:flex;gap:15px;flex-wrap:wrap;margin:20px 0}
#results{display:none;margin-top:20px}
.status-healthy{color:#2e7d32;font-weight:bold;font-size:18px}
.status-followup{color:#ef6c00;font-weight:bold;font-size:18px}
.status-emergency{color:#c62828;font-weight:bold;font-size:18px}
table{width:100%;border-collapse:collapse;margin-top:15px;background:white;border-radius:10px;overflow:hidden}
th,td{padding:12px;border-bottom:1px solid #e0e0e0;text-align:left}
th{background:#1b5e20;color:white;font-weight:500}
tr:hover{background:#f5f5f5}
.symptom-category{background:#f1f8e9;padding:15px;border-radius:10px;margin-bottom:15px}
.symptom-item{display:flex;align-items:center;gap:8px;padding:8px;background:white;border-radius:6px;border:1px solid #c8e6c9}
.symptom-item input[type="checkbox"]{width:18px;height:18px;cursor:pointer}
.symptom-item label{cursor:pointer;flex:1}
.severity-badge{font-size:11px;padding:2px 6px;border-radius:4px;background:#eee}
.severity-high{background:#ffcdd2;color:#c62828}
.severity-medium{background:#fff3e0;color:#ef6c00}
.severity-low{background:#e8f5e9;color:#2e7d32}
.emergency-box{background:#ffebee;border:2px solid #c62828;padding:20px;border-radius:10px;margin:15px 0}
.emergency-text{color:#c62828;font-weight:bold;font-size:16px}
.filter-buttons{display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap}
.filter-btn{padding:8px 15px;background:#e0e0e0;border-radius:20px;cursor:pointer}
.filter-btn.active{background:#1b5e20;color:white}
.ai-suggestion{background:#f3e5f5;padding:20px;border-radius:10px;margin:15px 0;border-left:4px solid #7b1fa2}
.ai-badge{background:#7b1fa2;color:white;padding:5px 15px;border-radius:20px;font-size:14px;display:inline-block;margin-bottom:15px}
.possible-condition{background:#fff3e0;padding:15px;border-radius:8px;margin:10px 0;border-left:4px solid #ef6c00}
.condition-name{font-weight:bold;color:#ef6c00;font-size:16px}
.remedy-item{background:#e8f5e9;padding:12px;margin:8px 0;border-radius:8px;border-left:4px solid #2e7d32;font-size:15px}
.remedy-item i{color:#1b5e20;margin-right:8px}
.gel-item{background:#e0f2f1;padding:12px;margin:8px 0;border-radius:8px;border-left:4px solid #00695c;font-size:15px}
.gel-item i{color:#00695c;margin-right:8px}
.herbal-item{background:#fff8e1;padding:12px;margin:8px 0;border-radius:8px;border-left:4px solid #ff8f00;font-size:15px}
.herbal-item i{color:#ff8f00;margin-right:8px}
.symptom-tag{display:inline-block;background:#e8f5e9;padding:5px 12px;border-radius:20px;margin:3px;font-size:13px;border:1px solid #a5d6a7}
.loader{display:none;text-align:center;padding:20px}
.loader-spinner{border:4px solid #f3f3f3;border-top:4px solid #1b5e20;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:auto}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.note-box{background:#fff3cd;border:1px solid #ffeeba;padding:15px;border-radius:8px;margin:15px 0;color:#856404}
.remedy-icon{font-size:18px;margin-right:8px}
</style>
</head>
<body>
<div class="container">

<!-- Patient Information Section -->
<div class="section">
<h2>üìã Patient Information</h2>
<div class="form-grid">
<input type="text" id="patientName" placeholder="Full Name *" required>
<input type="number" id="patientAge" placeholder="Age *" required>
<select id="patientGender">
<option value="Male">Male</option>
<option value="Female">Female</option>
<option value="Other">Other</option>
</select>
<input type="number" id="height" placeholder="Height (cm)" step="0.1">
<input type="number" id="weight" placeholder="Weight (kg)" step="0.1">
<input type="number" step="0.1" id="temperature" placeholder="Temperature ¬∞C">
<input type="text" id="bp" placeholder="Blood Pressure (e.g., 120/80)">
</div>
</div>

<!-- Symptoms Assessment Section -->
<div class="section">
<h2>ü©∫ Natural Remedy Advisor</h2>
<p style="margin-bottom:15px;color:#666;">Select your symptoms for herbal remedies and gel-based solutions:</p>

<!-- Quick Symptom Search -->
<div style="margin-bottom:20px">
<input type="text" id="symptomSearch" placeholder="üîç Search symptoms..." onkeyup="filterSymptoms()">
</div>

<!-- All Symptoms Categories -->
<div class="symptom-category">
<h3>ü§í General Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="fever"><label for="fever">Fever / High Temperature</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="chills"><label for="chills">Chills / Shivering</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="fatigue"><label for="fatigue">Fatigue / Weakness</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="weightLoss"><label for="weightLoss">Unexplained Weight Loss</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="lossAppetite"><label for="lossAppetite">Loss of Appetite</label><span class="severity-badge severity-low">Low</span></div>
</div>
</div>

<div class="symptom-category">
<h3>ü´Å Respiratory Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="cough"><label for="cough">Cough</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="dryCough"><label for="dryCough">Dry Cough</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="wetCough"><label for="wetCough">Wet Cough with Phlegm</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="bloodCough"><label for="bloodCough">Coughing Blood</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="shortnessBreath"><label for="shortnessBreath">Shortness of Breath</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="wheezing"><label for="wheezing">Wheezing</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="chestPain"><label for="chestPain">Chest Pain</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="soreThroat"><label for="soreThroat">Sore Throat</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="runnyNose"><label for="runnyNose">Runny Nose</label><span class="severity-badge severity-low">Low</span></div>
</div>
</div>

<div class="symptom-category">
<h3>ü´É Gastrointestinal Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="nausea"><label for="nausea">Nausea</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="vomiting"><label for="vomiting">Vomiting</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="diarrhea"><label for="diarrhea">Diarrhea</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="bloodStool"><label for="bloodStool">Blood in Stool</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="constipation"><label for="constipation">Constipation</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="abdominalPain"><label for="abdominalPain">Abdominal Pain</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="heartburn"><label for="heartburn">Heartburn / Acidity</label><span class="severity-badge severity-low">Low</span></div>
</div>
</div>

<div class="symptom-category">
<h3>üß† Neurological Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="headache"><label for="headache">Headache</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="dizziness"><label for="dizziness">Dizziness</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="fainting"><label for="fainting">Fainting</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="seizures"><label for="seizures">Seizures</label><span class="severity-badge severity-high">High</span></div>
<div class="symptom-item"><input type="checkbox" id="confusion"><label for="confusion">Confusion</label><span class="severity-badge severity-high">High</span></div>
</div>
</div>

<div class="symptom-category">
<h3>üí™ Musculoskeletal Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="jointPain"><label for="jointPain">Joint Pain</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="musclePain"><label for="musclePain">Muscle Pain</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="backPain"><label for="backPain">Back Pain</label><span class="severity-badge severity-low">Low</span></div>
</div>
</div>

<div class="symptom-category">
<h3>üî¥ Skin Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="rash"><label for="rash">Skin Rash</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="itching"><label for="itching">Itching</label><span class="severity-badge severity-low">Low</span></div>
<div class="symptom-item"><input type="checkbox" id="yellowSkin"><label for="yellowSkin">Yellow Skin (Jaundice)</label><span class="severity-badge severity-high">High</span></div>
</div>
</div>

<div class="symptom-category">
<h3>üöΩ Urinary Symptoms</h3>
<div class="symptom-grid">
<div class="symptom-item"><input type="checkbox" id="painUrination"><label for="painUrination">Painful Urination</label><span class="severity-badge severity-medium">Medium</span></div>
<div class="symptom-item"><input type="checkbox" id="bloodUrine"><label for="bloodUrine">Blood in Urine</label><span class="severity-badge severity-high">High</span></div>
</div>
</div>

<!-- Additional Notes -->
<div style="margin-top:20px">
<textarea id="additionalSymptoms" placeholder="Describe any other symptoms..."></textarea>
</div>
</div>

<!-- Action Buttons -->
<div class="btn-group">
<button class="btn-primary" onclick="analyzeHealth()">üåø Get Natural Remedies</button>
<button class="btn-secondary" onclick="clearForm()">üîÑ Clear Form</button>
<button class="btn-danger" onclick="emergencyOverride()">üö® Emergency</button>
</div>

<!-- Loading Indicator -->
<div id="loader" class="loader">
<div class="loader-spinner"></div>
<p style="margin-top:10px">Finding natural remedies for you...</p>
</div>

<!-- Results Section -->
<div id="results" class="section">
<h2>üå± Natural Remedy Report</h2>
<div id="emergencyAlert" style="display:none" class="emergency-box">
<div class="emergency-text">üö® EMERGENCY - Immediate Action Required</div>
<p id="emergencyMessage"></p>
</div>

<!-- Diagnosis -->
<div class="ai-suggestion">
<div class="ai-badge">üåø NATURAL REMEDY ADVISOR</div>
<div id="diagnosisContent"></div>
</div>

<p id="statusText"></p>
<p id="description"></p>

<div style="margin:15px 0;padding:15px;background:#f5f5f5;border-radius:8px">
<h3>üìã Your Symptoms:</h3>
<div id="symptomList"></div>
</div>

<!-- Home Remedies Section -->
<div style="margin:20px 0">
<h3>üè† Home Remedies</h3>
<div id="homeRemediesList"></div>
</div>

<!-- Gels & Ointments Section -->
<div style="margin:20px 0">
<h3>üß¥ Gels & Ointments</h3>
<div id="gelsList"></div>
</div>

<!-- Herbal Solutions Section -->
<div style="margin:20px 0">
<h3>üåø Herbal Solutions</h3>
<div id="herbalList"></div>
</div>

<!-- Natural Supplements Section -->
<div style="margin:20px 0;padding:15px;background:#fff8e1;border-radius:8px">
<h3>üíö Natural Supplements</h3>
<div id="supplementsList"></div>
<p style="font-size:12px;color:#666;margin-top:10px;">‚ö†Ô∏è These are natural remedies. Discontinue if irritation occurs.</p>
</div>

<div id="followUp"></div>

<!-- Important Note -->
<div class="note-box">
<strong>üå± Note:</strong> These are natural and herbal remedies. For emergency symptoms, please seek immediate medical help.
</div>
</div>

<!-- History Section -->
<div class="section">
<h2>üìú Recent Consultations</h2>
<table>
<thead>
<tr><th>Time</th><th>Name</th><th>Age</th><th>Condition</th><th>Status</th></tr>
</thead>
<tbody id="tableBody"></tbody>
</table>
</div>

</div>

<script>
// Global variables
let screenings = JSON.parse(localStorage.getItem("screenings") || "[]");

// Initial render
renderTable();

// Symptom search filter
function filterSymptoms() {
    let searchText = document.getElementById('symptomSearch').value.toLowerCase();
    let symptomItems = document.querySelectorAll('.symptom-item');
    
    symptomItems.forEach(item => {
        let label = item.querySelector('label').textContent.toLowerCase();
        if (label.includes(searchText) || searchText === '') {
            item.style.display = 'flex';
        } else {
            item.style.display = 'none';
        }
    });
}

// Clear form function
function clearForm() {
    document.getElementById('patientName').value = '';
    document.getElementById('patientAge').value = '';
    document.getElementById('patientGender').value = 'Male';
    document.getElementById('height').value = '';
    document.getElementById('weight').value = '';
    document.getElementById('temperature').value = '';
    document.getElementById('bp').value = '';
    document.getElementById('additionalSymptoms').value = '';
    document.getElementById('symptomSearch').value = '';
    
    // Uncheck all checkboxes
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(cb => cb.checked = false);
    
    // Hide results
    document.getElementById('results').style.display = 'none';
    
    // Hide emergency alert if visible
    document.getElementById('emergencyAlert').style.display = 'none';
    
    // Show all symptoms again
    filterSymptoms();
    
    console.log("Form cleared successfully");
}

// Emergency override
function emergencyOverride() {
    const name = document.getElementById("patientName").value.trim();
    const age = document.getElementById("patientAge").value;
    
    if (!name || !age) {
        alert("‚ö†Ô∏è Please fill Patient Name and Age first");
        return;
    }
    
    // Show loader
    document.getElementById('loader').style.display = 'block';
    document.getElementById('results').style.display = 'none';
    document.getElementById('emergencyAlert').style.display = 'none';
    
    setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        
        const emergencyResult = {
            status: "emergency",
            statusText: "üö® EMERGENCY",
            diagnosis: "MEDICAL EMERGENCY",
            description: "‚ö†Ô∏è EMERGENCY OVERRIDE ACTIVATED - Patient requires immediate medical attention!",
            homeRemedies: ["üöë NOT APPLICABLE - EMERGENCY SITUATION"],
            gels: ["üöë NOT APPLICABLE - SEEK IMMEDIATE MEDICAL HELP"],
            herbal: ["üöë NOT APPLICABLE - CALL AMBULANCE NOW"],
            supplements: ["üöë DIAL 108 OR 102 IMMEDIATELY"],
            symptoms: "Emergency override activated",
            followUp: "URGENT: Immediate emergency care required"
        };
        
        displayResults(emergencyResult);
        saveScreening(name, age, emergencyResult);
    }, 1000);
}

// Get selected symptoms
function getSelectedSymptoms() {
    const symptoms = [];
    const symptomMap = {
        'fever': 'Fever',
        'chills': 'Chills',
        'fatigue': 'Fatigue',
        'weightLoss': 'Weight Loss',
        'lossAppetite': 'Loss of Appetite',
        'cough': 'Cough',
        'dryCough': 'Dry Cough',
        'wetCough': 'Wet Cough',
        'bloodCough': 'Coughing Blood',
        'shortnessBreath': 'Shortness of Breath',
        'wheezing': 'Wheezing',
        'chestPain': 'Chest Pain',
        'soreThroat': 'Sore Throat',
        'runnyNose': 'Runny Nose',
        'nausea': 'Nausea',
        'vomiting': 'Vomiting',
        'diarrhea': 'Diarrhea',
        'bloodStool': 'Blood in Stool',
        'constipation': 'Constipation',
        'abdominalPain': 'Abdominal Pain',
        'heartburn': 'Heartburn',
        'headache': 'Headache',
        'dizziness': 'Dizziness',
        'fainting': 'Fainting',
        'seizures': 'Seizures',
        'confusion': 'Confusion',
        'jointPain': 'Joint Pain',
        'musclePain': 'Muscle Pain',
        'backPain': 'Back Pain',
        'rash': 'Rash',
        'itching': 'Itching',
        'yellowSkin': 'Yellow Skin',
        'painUrination': 'Painful Urination',
        'bloodUrine': 'Blood in Urine'
    };
    
    for (let [id, label] of Object.entries(symptomMap)) {
        let element = document.getElementById(id);
        if (element && element.checked) {
            symptoms.push(label);
        }
    }
    
    return symptoms;
}

// Natural Remedies Engine - NO TABLETS, ONLY GELS & NATURAL REMEDIES
function getNaturalRemedies(symptoms, age, temp, bp) {
    let diagnosis = [];
    let homeRemedies = [];
    let gels = [];
    let herbal = [];
    let supplements = [];
    let emergency = false;
    let emergencyMsg = "";
    
    // EMERGENCY CHECKS (Same as before)
    if (symptoms.includes('Chest Pain')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è CHEST PAIN - Possible heart attack. SEEK EMERGENCY CARE IMMEDIATELY!";
    }
    else if (symptoms.includes('Coughing Blood')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è COUGHING BLOOD - Possible TB or internal bleeding. Immediate medical attention required!";
    }
    else if (symptoms.includes('Blood in Stool')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è BLOOD IN STOOL - Possible internal bleeding. Seek immediate care!";
    }
    else if (symptoms.includes('Blood in Urine')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è BLOOD IN URINE - Kidney or bladder issue. Immediate medical attention required!";
    }
    else if (symptoms.includes('Fainting')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è FAINTING - Loss of consciousness. Neurological emergency!";
    }
    else if (symptoms.includes('Seizures')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è SEIZURES - Neurological emergency. Immediate medical attention!";
    }
    else if (symptoms.includes('Confusion')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è CONFUSION - Possible stroke or severe infection. Seek immediate care!";
    }
    else if (symptoms.includes('Yellow Skin')) {
        emergency = true;
        emergencyMsg = "‚ö†Ô∏è YELLOW SKIN - Jaundice. Liver condition needs immediate attention!";
    }
    
    // BP Emergency
    if (bp) {
        let bpParts = bp.split('/');
        if (bpParts.length === 2) {
            let systolic = parseInt(bpParts[0]);
            if (systolic >= 180) {
                emergency = true;
                emergencyMsg = "‚ö†Ô∏è CRITICALLY HIGH BLOOD PRESSURE - Hypertensive emergency!";
            }
        }
    }
    
    if (emergency) {
        return {
            emergency: true,
            message: emergencyMsg,
            diagnosis: "MEDICAL EMERGENCY",
            homeRemedies: ["üöë NOT APPLICABLE - EMERGENCY SITUATION"],
            gels: ["üöë NOT APPLICABLE - SEEK IMMEDIATE MEDICAL HELP"],
            herbal: ["üöë NOT APPLICABLE - CALL AMBULANCE NOW"],
            supplements: ["üöë DIAL 108 OR 102 IMMEDIATELY"]
        };
    }
    
    // COMMON COLD / FLU
    if (symptoms.includes('Fever') && symptoms.includes('Cough') && symptoms.includes('Fatigue')) {
        diagnosis.push("Common Cold / Viral Fever");
        homeRemedies = [
            "ü´ñ Ginger tea with honey - Drink 3 times daily",
            "üíß Warm water with lemon - Sip throughout day",
            "üõå Complete bed rest for 2-3 days",
            "üßÑ Crush 2 garlic cloves and mix with honey",
            "üåø Tulsi (holy basil) leaves boil in water and drink"
        ];
        gels = [
            "‚ùÑÔ∏è Vicks Vaporub on chest and back for congestion",
            "üå± Eucalyptus oil mixed with coconut oil - massage on chest",
            "üß¥ Balm on forehead for headache"
        ];
        herbal = [
            "üçµ Chamomile tea before sleep",
            "üåø Ashwagandha powder with warm milk at night",
            "üßã Turmeric milk - Haldi doodh before bed"
        ];
        supplements = [
            "üíö Vitamin C - Amla juice daily",
            "üçä Eat citrus fruits - orange, lemon",
            "ü•£ Chicken soup - homemade bone broth"
        ];
    }
    
    // CHEST INFECTION / WET COUGH
    else if (symptoms.includes('Wet Cough') && symptoms.includes('Fever')) {
        diagnosis.push("Chest Congestion / Bronchitis");
        homeRemedies = [
            "üí® Steam inhalation with eucalyptus oil - 3 times daily",
            "üßÖ Onion juice with honey - 1 teaspoon twice daily",
            "ü´ñ Ginger and tulsi tea - drink warm",
            "üßÑ Garlic cloves crushed with honey",
            "üåø Licorice root (Mulethi) powder with honey"
        ];
        gels = [
            "‚ùÑÔ∏è Tiger Balm on chest and throat",
            "üå± Eucalyptus oil massage on chest",
            "üß¥ Vicks Vaporub on chest and back"
        ];
        herbal = [
            "üçµ Peppermint tea for congestion",
            "üåø Mulethi (Licorice) tea",
            "üßã Turmeric milk with black pepper"
        ];
        supplements = [
            "üíö Amla juice daily for immunity",
            "üêù Propolis tincture - natural antibiotic",
            "üåø Oregano oil drops in water"
        ];
    }
    
    // SORE THROAT
    else if (symptoms.includes('Sore Throat')) {
        diagnosis.push("Throat Inflammation");
        homeRemedies = [
            "üßÇ Salt water gargle - warm water with salt, 3 times daily",
            "üçØ Honey with lemon juice - slowly sip",
            "ü´ñ Ginger tea with honey and cinnamon",
            "üßÑ Garlic clove - chew slowly",
            "üåø Licorice root (Mulethi) - suck on small piece"
        ];
        gels = [
            "‚ùÑÔ∏è Balm on throat externally",
            "üå± Eucalyptus oil massage on neck",
            "üß¥ Camphor ointment on chest"
        ];
        herbal = [
            "üçµ Chamomile tea with honey",
            "üåø Slippery elm bark tea",
            "üßã Turmeric milk at bedtime"
        ];
        supplements = [
            "üíö Vitamin C - Amla candy",
            "üêù Manuka honey - 1 teaspoon daily",
            "üåø Propolis spray"
        ];
    }
    
    // COUGH (General)
    else if (symptoms.includes('Cough') || symptoms.includes('Dry Cough')) {
        diagnosis.push("Cough");
        homeRemedies = [
            "üçØ Honey - 1 teaspoon before bed",
            "ü´ñ Ginger tea with tulsi leaves",
            "üßÇ Salt water gargle twice daily",
            "üåø Licorice root tea",
            "üí® Steam inhalation with mint leaves"
        ];
        gels = [
            "‚ùÑÔ∏è Vicks Vaporub on chest and throat",
            "üå± Eucalyptus oil massage on chest",
            "üß¥ Balm on back before sleep"
        ];
        herbal = [
            "üçµ Thyme tea with honey",
            "üåø Marshmallow root tea",
            "üßã Turmeric milk"
        ];
        supplements = [
            "üíö Vitamin C - Amla juice",
            "üêù Propolis tincture",
            "üåø Elderberry syrup"
        ];
    }
    
    // HEADACHE
    else if (symptoms.includes('Headache')) {
        diagnosis.push("Headache / Tension");
        homeRemedies = [
            "üßä Cold compress on forehead for 10 minutes",
            "üò¥ Rest in dark, quiet room",
            "üíß Drink plenty of water - dehydration causes headaches",
            "üçÉ Peppermint oil on temples (diluted)",
            "‚òï Ginger tea with honey"
        ];
        gels = [
            "üå± Peppermint oil roll-on on temples",
            "‚ùÑÔ∏è Balm on forehead and temples",
            "üß¥ Lavender oil massage on neck"
        ];
        herbal = [
            "üçµ Feverfew tea",
            "üåø Butterbur root extract",
            "üßã Chamomile tea before bed"
        ];
        supplements = [
            "üíö Magnesium - pumpkin seeds",
            "üåø Willow bark tincture",
            "üêù Royal jelly"
        ];
    }
    
    // JOINT PAIN / MUSCLE PAIN
    else if (symptoms.includes('Joint Pain') || symptoms.includes('Muscle Pain') || symptoms.includes('Back Pain')) {
        diagnosis.push("Joint & Muscle Pain");
        homeRemedies = [
            "üî• Warm compress on painful area for 15 minutes",
            "üõÄ Epsom salt bath - relaxes muscles",
            "üßò Gentle stretching exercises",
            "üåø Castor oil pack on joints overnight",
            "ü•• Coconut oil massage with camphor"
        ];
        gels = [
            "üå± Diclofenac gel - apply 3 times daily",
            "‚ùÑÔ∏è Volini gel for pain relief",
            "üß¥ Moov spray for immediate relief",
            "üåø Arnica gel - natural pain relief",
            "üî• Hot balm for deep muscle pain"
        ];
        herbal = [
            "üåø Turmeric paste with ginger - apply on joints",
            "üçµ Devil's claw tea",
            "üå± Boswellia extract",
            "üßã Ashwagandha powder with warm milk"
        ];
        supplements = [
            "üíö Flaxseed oil - omega 3",
            "üåø Turmeric capsules (natural)",
            "üêù Glucosamine natural - bone broth",
            "ü•ú Magnesium-rich foods - nuts, seeds"
        ];
    }
    
    // GASTRITIS / ACIDITY
    else if (symptoms.includes('Heartburn') || symptoms.includes('Abdominal Pain')) {
        diagnosis.push("Acidity / Gastritis");
        homeRemedies = [
            "ü•õ Cold milk - drink slowly",
            "üçå Eat ripe banana - natural antacid",
            "üåø Cumin seeds - chew after meals",
            "üíß Coconut water - cooling effect",
            "üçö Eat small, frequent meals"
        ];
        gels = [
            "üå± Not applicable for internal use",
            "üß¥ External balm not recommended",
            "‚ùÑÔ∏è Apply ice pack on stomach externally"
        ];
        herbal = [
            "üçµ Chamomile tea after meals",
            "üåø Licorice root tea (Mulethi)",
            "üßã Aloe vera juice - 2 tablespoons",
            "üå± Fennel seeds tea - saunf water"
        ];
        supplements = [
            "üíö Probiotics - curd, buttermilk",
            "üåø Slippery elm powder",
            "üêù Marshmallow root extract"
        ];
    }
    
    // DIARRHEA
    else if (symptoms.includes('Diarrhea')) {
        diagnosis.push("Diarrhea / Loose Motions");
        homeRemedies = [
            "üíß ORS - homemade: 1L water + 6 tsp sugar + 1/2 tsp salt",
            "üçö Rice kanji (rice water) - sip slowly",
            "üçå Eat ripe bananas",
            "ü•• Coconut water - for electrolytes",
            "üçé Grated apple without skin"
        ];
        gels = [
            "üå± Not applicable",
            "üß¥ External use only - not for diarrhea"
        ];
        herbal = [
            "üçµ Chamomile tea",
            "üåø Ginger tea with honey",
            "üßã Pomegranate juice",
            "üå± Mint tea"
        ];
        supplements = [
            "üíö Probiotics - homemade curd",
            "üåø Psyllium husk (Isabgol) - with curd",
            "üêù Zinc-rich foods - pumpkin seeds"
        ];
    }
    
    // CONSTIPATION
    else if (symptoms.includes('Constipation')) {
        diagnosis.push("Constipation");
        homeRemedies = [
            "üíß Warm water with lemon - first thing morning",
            "üçå Ripe banana with warm milk at night",
            "ü•£ Isabgol (psyllium husk) with warm milk",
            "üçé Eat an apple with skin",
            "ü•ó High fiber foods - leafy greens"
        ];
        gels = [
            "üå± Castor oil pack on abdomen",
            "üß¥ Warm oil massage on stomach",
            "‚ùÑÔ∏è Not applicable"
        ];
        herbal = [
            "üçµ Senna tea - use sparingly",
            "üåø Triphala powder with warm water",
            "üßã Licorice tea",
            "üå± Fennel seed water"
        ];
        supplements = [
            "üíö Flax seeds - 1 tablespoon daily",
            "üåø Psyllium husk (Isabgol)",
            "ü•• Coconut oil - 1 teaspoon",
            "üå± Chia seeds soaked in water"
        ];
    }
    
    // SKIN RASH / ITCHING
    else if (symptoms.includes('Rash') || symptoms.includes('Itching')) {
        diagnosis.push("Skin Irritation / Allergy");
        homeRemedies = [
            "üß¥ Aloe vera gel - fresh from leaf",
            "ü•• Coconut oil - apply on affected area",
            "üåø Neem leaves paste",
            "üõÅ Oatmeal bath - for itching",
            "üßä Cold compress for relief"
        ];
        gels = [
            "üå± Calamine lotion - apply twice daily",
            "‚ùÑÔ∏è Menthol gel for cooling",
            "üß¥ Hydrocortisone cream - for severe itching",
            "üåø Aloe vera gel with turmeric"
        ];
        herbal = [
            "üçµ Chamomile compress",
            "üåø Neem oil - natural antiseptic",
            "üßã Sandalwood paste with rose water",
            "üå± Tea tree oil (diluted) on spots"
        ];
        supplements = [
            "üíö Vitamin E oil - apply on skin",
            "üåø Evening primrose oil",
            "üêù Manuka honey - apply on rash",
            "ü•• Coconut oil internally & externally"
        ];
    }
    
    // UTI / URINARY ISSUES
    else if (symptoms.includes('Painful Urination')) {
        diagnosis.push("Urinary Tract Irritation");
        homeRemedies = [
            "üö∞ Drink plenty of water - 8-10 glasses",
            "üßÉ Unsweetened cranberry juice",
            "ü•• Coconut water - 3 times daily",
            "üçâ Watermelon - natural diuretic",
            "üåø Barley water - drink throughout day"
        ];
        gels = [
            "üå± Not applicable for internal use",
            "üß¥ External balm not recommended"
        ];
        herbal = [
            "üçµ Parsley tea",
            "üåø Horsetail tea",
            "üßã Coriander seed water",
            "üå± Dandelion tea"
        ];
        supplements = [
            "üíö Vitamin C - amla juice",
            "üåø Uva ursi extract",
            "üêù Propolis tincture",
            "ü•• Coconut oil - 1 teaspoon daily"
        ];
    }
    
    // If symptoms exist but no specific match
    else if (symptoms.length > 0) {
        diagnosis.push("General Symptoms - Natural Support");
        homeRemedies = [
            "üõå Get adequate rest",
            "üíß Drink plenty of water",
            "ü•ó Eat light, easily digestible food",
            "üçµ Ginger tea for overall wellness",
            "üåø Tulsi tea - immunity booster"
        ];
        gels = [
            "üå± Use natural balms as needed",
            "üß¥ Aloe vera gel for general care"
        ];
        herbal = [
            "üçµ Chamomile tea for relaxation",
            "üåø Ashwagandha for strength",
            "üßã Turmeric milk at bedtime"
        ];
        supplements = [
            "üíö Amla juice - vitamin C",
            "üåø Spirulina - natural multivitamin",
            "ü•• Coconut oil - healthy fats"
        ];
    }
    
    // No symptoms
    else {
        diagnosis.push("No Symptoms - Wellness Mode");
        homeRemedies = [
            "ü•ó Eat seasonal fruits and vegetables",
            "üíß Drink 8 glasses of water daily",
            "üö∂ Walk for 30 minutes daily",
            "üò¥ Get 7-8 hours of sleep",
            "üßò Practice deep breathing"
        ];
        gels = [
            "üå± Use aloe vera gel for skin health",
            "üß¥ Coconut oil for moisturizing",
            "‚ùÑÔ∏è Natural balm for relaxation"
        ];
        herbal = [
            "üçµ Green tea - antioxidant",
            "üåø Tulsi tea - immunity",
            "üßã Turmeric milk - anti-inflammatory"
        ];
        supplements = [
            "üíö Amla - natural vitamin C",
            "üåø Ashwagandha for vitality",
            "ü•• Coconut oil - daily teaspoon",
            "üêù Honey - raw, unfiltered"
        ];
    }
    
    return {
        emergency: false,
        diagnosis: diagnosis.join(", "),
        homeRemedies: homeRemedies,
        gels: gels,
        herbal: herbal,
        supplements: supplements
    };
}

// Main analysis function
function analyzeHealth() {
    const name = document.getElementById("patientName").value.trim();
    const age = document.getElementById("patientAge").value;
    const temp = parseFloat(document.getElementById("temperature").value) || 36.5;
    const bp = document.getElementById("bp").value || "";
    
    if (!name || !age) {
        alert("‚ö†Ô∏è Please fill Patient Name and Age first");
        return;
    }
    
    // Show loader
    document.getElementById('loader').style.display = 'block';
    document.getElementById('results').style.display = 'none';
    document.getElementById('emergencyAlert').style.display = 'none';
    
    setTimeout(() => {
        document.getElementById('loader').style.display = 'none';
        
        const symptoms = getSelectedSymptoms();
        const remedies = getNaturalRemedies(symptoms, parseInt(age), temp, bp);
        
        let result;
        
        if (remedies.emergency) {
            result = {
                status: "emergency",
                statusText: "üö® EMERGENCY",
                diagnosis: remedies.diagnosis,
                description: remedies.message,
                homeRemedies: remedies.homeRemedies,
                gels: remedies.gels,
                herbal: remedies.herbal,
                supplements: remedies.supplements,
                symptoms: symptoms.length ? symptoms.join(", ") : "No symptoms",
                followUp: "URGENT: Immediate emergency care required"
            };
        } else if (symptoms.length > 0) {
            result = {
                status: "followup",
                statusText: "üåø Natural Care Recommended",
                diagnosis: remedies.diagnosis,
                description: "Based on your symptoms, here are natural remedies and gels for relief.",
                homeRemedies: remedies.homeRemedies,
                gels: remedies.gels,
                herbal: remedies.herbal,
                supplements: remedies.supplements,
                symptoms: symptoms.join(", "),
                followUp: "Use these natural remedies for 3 days. Consult doctor if no improvement."
            };
        } else {
            result = {
                status: "healthy",
                statusText: "‚úÖ Healthy",
                diagnosis: "Wellness Mode",
                description: "Stay healthy with these natural wellness tips.",
                homeRemedies: remedies.homeRemedies,
                gels: remedies.gels,
                herbal: remedies.herbal,
                supplements: remedies.supplements,
                symptoms: "No symptoms reported",
                followUp: "Maintain healthy lifestyle with natural remedies."
            };
        }
        
        displayResults(result);
        saveScreening(name, age, result);
    }, 1500);
}

// Display results
function displayResults(result) {
    document.getElementById('results').style.display = 'block';
    
    // Set status
    if (result.status === "healthy") {
        document.getElementById('statusText').innerHTML = "<span class='status-healthy'>" + result.statusText + "</span>";
    } else if (result.status === "emergency") {
        document.getElementById('statusText').innerHTML = "<span class='status-emergency'>" + result.statusText + "</span>";
    } else {
        document.getElementById('statusText').innerHTML = "<span class='status-followup'>" + result.statusText + "</span>";
    }
    
    document.getElementById('description').innerText = result.description;
    
    // Set symptoms
    let symptomsHtml = "";
    if (result.symptoms && result.symptoms !== "No symptoms reported") {
        let symptomArray = result.symptoms.split(", ");
        symptomArray.forEach(s => {
            symptomsHtml += `<span class="symptom-tag">${s}</span> `;
        });
    } else {
        symptomsHtml = "No symptoms selected";
    }
    document.getElementById('symptomList').innerHTML = symptomsHtml;
    
    // Set diagnosis
    let diagnosisHtml = `<div class="possible-condition">
        <span class="condition-name">${result.diagnosis}</span>
        <p style="margin-top:8px">${result.description}</p>
    </div>`;
    document.getElementById('diagnosisContent').innerHTML = diagnosisHtml;
    
    // Set home remedies
    let homeHtml = "";
    result.homeRemedies.forEach(r => {
        homeHtml += `<div class="remedy-item">üè† ${r}</div>`;
    });
    document.getElementById('homeRemediesList').innerHTML = homeHtml;
    
    // Set gels
    let gelsHtml = "";
    result.gels.forEach(g => {
        gelsHtml += `<div class="gel-item">üß¥ ${g}</div>`;
    });
    document.getElementById('gelsList').innerHTML = gelsHtml;
    
    // Set herbal
    let herbalHtml = "";
    result.herbal.forEach(h => {
        herbalHtml += `<div class="herbal-item">üåø ${h}</div>`;
    });
    document.getElementById('herbalList').innerHTML = herbalHtml;
    
    // Set supplements
    let suppHtml = "";
    result.supplements.forEach(s => {
        suppHtml += `<div class="remedy-item">üíö ${s}</div>`;
    });
    document.getElementById('supplementsList').innerHTML = suppHtml;
    
    document.getElementById('followUp').innerText = result.followUp;
    
    // Handle emergency alert
    if (result.status === "emergency") {
        document.getElementById('emergencyAlert').style.display = 'block';
        document.getElementById('emergencyMessage').innerText = result.description;
    } else {
        document.getElementById('emergencyAlert').style.display = 'none';
    }
}

// Save screening
function saveScreening(name, age, result) {
    const record = {
        time: new Date().toLocaleString(),
        name: name,
        age: age,
        diagnosis: result.diagnosis,
        status: result.statusText
    };
    
    screenings.unshift(record);
    if (screenings.length > 20) screenings.pop();
    localStorage.setItem("screenings", JSON.stringify(screenings));
    renderTable();
}

// Render table
function renderTable() {
    const tbody = document.getElementById("tableBody");
    if (screenings.length === 0) {
        tbody.innerHTML = "<tr><td colspan='5' style='text-align:center'>No records found</td></tr>";
        return;
    }
    tbody.innerHTML = screenings.map(s => `
        <tr>
            <td>${s.time}</td>
            <td>${s.name}</td>
            <td>${s.age}</td>
            <td>${s.diagnosis}</td>
            <td>${s.status}</td>
        </tr>
    `).join("");
}

console.log("RuralCare AI - Natural Remedies Loaded Successfully!");
</script>

</body>
</html>
