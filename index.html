<!DOCTYPE html>
<html>
<head>
    <title>RuralCare AI - Offline Version</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f7fa;
            margin: 0;
        }

        header {
            background: #1b5e20;
            color: white;
            padding: 15px;
            text-align: center;
        }

        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
        }

        .card {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 12px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #2e7d32;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background: #145a1c;
        }

        #result {
            font-weight: bold;
            font-size: 18px;
        }
    </style>
</head>

<body>

<header>
    <h2>RuralCare AI – Offline Health Screening</h2>
</header>

<div class="container">

    <div class="card">
        <h3>Patient Information</h3>

        <input type="number" id="age" placeholder="Age">

        <select id="symptom">
            <option value="">Select Symptom</option>
            <option value="fever">Fever</option>
            <option value="cough">Cough</option>
            <option value="chest pain">Chest Pain</option>
            <option value="breathing issue">Breathing Issue</option>
        </select>

        <input type="number" id="bp" placeholder="Blood Pressure (e.g. 120)">
        <input type="number" id="sugar" placeholder="Blood Sugar (e.g. 100)">
        <input type="number" id="heart_rate" placeholder="Heart Rate (e.g. 80)">

        <button onclick="runScreening()">Run AI Screening</button>
    </div>

    <div class="card">
        <h3>Screening Result</h3>
        <p id="result">No screening performed yet.</p>
    </div>

</div>

<script>
function calculateRisk(age, symptom, bp, sugar, heart_rate) {
    let score = 0;

    if (age >= 60) score += 2;

    if (symptom === "chest pain" || symptom === "breathing issue") {
        score += 3;
    } else if (symptom === "fever" || symptom === "cough") {
        score += 1;
    }

    if (bp >= 140) score += 2;
    if (sugar >= 180) score += 2;
    if (heart_rate >= 110) score += 2;

    if (score >= 7) {
        return "HIGH RISK – Immediate hospital referral required.";
    } else if (score >= 4) {
        return "MODERATE RISK – Doctor consultation recommended.";
    } else {
        return "LOW RISK – Monitor and basic care advised.";
    }
}

function runScreening() {
    const age = parseInt(document.getElementById("age").value);
    const symptom = document.getElementById("symptom").value;
    const bp = parseInt(document.getElementById("bp").value) || 0;
    const sugar = parseInt(document.getElementById("sugar").value) || 0;
    const heart_rate = parseInt(document.getElementById("heart_rate").value) || 0;

    if (!age || !symptom) {
        alert("Age and symptom are required.");
        return;
    }

    const result = calculateRisk(age, symptom, bp, sugar, heart_rate);

    document.getElementById("result").innerText = result;

    if ('speechSynthesis' in window) {
        const msg = new SpeechSynthesisUtterance(result);
        speechSynthesis.speak(msg);
    }
}
</script>

</body>
</html>
