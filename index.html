<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RuralCare AI</title>

<style>
/* ===================== styles.css ===================== */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f4f7fa;
}

header {
    background: #2e7d32;
    color: white;
    padding: 15px;
    text-align: center;
}

.container {
    padding: 20px;
}

.card {
    background: white;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

button {
    background: #2e7d32;
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
}

button:hover {
    background: #1b5e20;
}

input, select {
    width: 100%;
    padding: 8px;
    margin: 5px 0 10px 0;
}
</style>
</head>

<body>

<header>
    <h1>RuralCare AI</h1>
    <p>Offline Health Screening for Rural Areas</p>
</header>

<div class="container">

    <div class="card">
        <h3>Patient Details</h3>
        <input type="text" id="name" placeholder="Patient Name">
        <input type="number" id="age" placeholder="Age">
        <select id="symptom">
            <option value="">Select Symptom</option>
            <option value="fever">Fever</option>
            <option value="cough">Cough</option>
            <option value="fatigue">Fatigue</option>
        </select>
        <button onclick="runAI()">Screen Patient</button>
    </div>

    <div class="card">
        <h3>AI Result</h3>
        <p id="result">No screening yet.</p>
    </div>

</div>

<script>
/* ===================== storage.js ===================== */
function savePatient(data) {
    let patients = JSON.parse(localStorage.getItem("patients")) || [];
    patients.push(data);
    localStorage.setItem("patients", JSON.stringify(patients));
}

/* ===================== ai.js ===================== */
function analyze(symptom, age) {
    if (!symptom) return "Please select symptom.";

    if (symptom === "fever" && age > 60) {
        return "High risk. Refer to doctor immediately.";
    }

    if (symptom === "cough") {
        return "Monitor for 3 days. If worsens, visit clinic.";
    }

    return "Low risk. Basic medication recommended.";
}

/* ===================== analytics.js ===================== */
function logScreening(data) {
    console.log("Screening Logged:", data);
}

/* ===================== voice.js ===================== */
function speak(text) {
    if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance(text);
        speechSynthesis.speak(utterance);
    }
}

/* ===================== main.js ===================== */
function runAI() {
    const name = document.getElementById("name").value;
    const age = parseInt(document.getElementById("age").value);
    const symptom = document.getElementById("symptom").value;

    if (!name || !age || !symptom) {
        alert("Fill all fields.");
        return;
    }

    const result = analyze(symptom, age);

    document.getElementById("result").innerText = result;

    const patientData = { name, age, symptom, result };
    savePatient(patientData);
    logScreening(patientData);
    speak(result);
}
</script>

</body>
</html>
